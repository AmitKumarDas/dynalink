<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0-internal) on Sun Jul 10 23:55:55 MST 2011 -->
<title>CallSiteDescriptor (Dynamic Linker Framework for Languages on the JVM 0.2 API)</title>
<meta name="date" content="2011-07-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CallSiteDescriptor (Dynamic Linker Framework for Languages on the JVM 0.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallSiteDescriptor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dynalang/dynalink/linker/CallSiteDescriptor.html" target="_top">Frames</a></li>
<li><a href="CallSiteDescriptor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dynalang.dynalink.linker</div>
<h2 title="Class CallSiteDescriptor" class="title">Class CallSiteDescriptor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.dynalang.dynalink.linker.CallSiteDescriptor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">CallSiteDescriptor</span>
extends java.lang.Object</pre>
<div class="block">A descriptor of a call site. Used in place of passing a real call site to
 guarding linkers so they aren't tempted to directly manipulate them; also it
 carries the tokenized name of the method and the <code>MethodHandles.Lookup</code> object
 for the class in which the call site is in.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Attila Szegedi</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#CallSiteDescriptor(java.lang.invoke.MethodHandles.Lookup, java.lang.String, java.lang.invoke.MethodType)">CallSiteDescriptor</a></strong>(java.lang.invoke.MethodHandles.Lookup&nbsp;lookup,
                  java.lang.String&nbsp;name,
                  java.lang.invoke.MethodType&nbsp;methodType)</code>
<div class="block">Create a new call site descriptor from explicit information.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#assertParameterCount(int)">assertParameterCount</a></strong>(int&nbsp;count)</code>
<div class="block">Checks that the method type has exactly the desired number of arguments,
 throws an exception if it doesn't.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html" title="class in org.dynalang.dynalink.linker">CallSiteDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#changeParameterType(int, java.lang.Class)">changeParameterType</a></strong>(int&nbsp;num,
                   java.lang.Class&lt;?&gt;&nbsp;newType)</code>
<div class="block">Creates a new call site descriptor from this descriptor, which is
 identical to this, except it changes the type of one of the parameters
 in the method type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html" title="class in org.dynalang.dynalink.linker">CallSiteDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#dropParameterTypes(int, int)">dropParameterTypes</a></strong>(int&nbsp;from,
                  int&nbsp;to)</code>
<div class="block">Creates a new call site descriptor from this descriptor, which is
 identical to this, except it drops few of the parameters from the method
 type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.invoke.MethodType</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#getMethodType()">getMethodType</a></strong>()</code>
<div class="block">The type of the method at the call site.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#getName()">getName</a></strong>()</code>
<div class="block">Returns the name of the method at the call site.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#getNameToken(int)">getNameToken</a></strong>(int&nbsp;i)</code>
<div class="block">Returns the <i>i<sup>th</sup></i> token in the method name at the call
 site.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#getNameTokenCount()">getNameTokenCount</a></strong>()</code>
<div class="block">Returns the number of tokens in the name of the method at the call site.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CallSiteDescriptor(java.lang.invoke.MethodHandles.Lookup, java.lang.String, java.lang.invoke.MethodType)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CallSiteDescriptor</h4>
<pre>public&nbsp;CallSiteDescriptor(java.lang.invoke.MethodHandles.Lookup&nbsp;lookup,
                  java.lang.String&nbsp;name,
                  java.lang.invoke.MethodType&nbsp;methodType)</pre>
<div class="block">Create a new call site descriptor from explicit information.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lookup</code> - the lookup for the class at the call site</dd><dd><code>name</code> - the name of the method</dd><dd><code>methodType</code> - the method type</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNameTokenCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameTokenCount</h4>
<pre>public&nbsp;int&nbsp;getNameTokenCount()</pre>
<div class="block">Returns the number of tokens in the name of the method at the call site.
 Method names are tokenized with the colon ":" character, i.e.
 "dyn:getProp:color" would be the name used to describe a method that
 retrieves the property named "color" on the object it is invoked on.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of tokens in the name of the method at the call site.</dd></dl>
</li>
</ul>
<a name="getNameToken(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNameToken</h4>
<pre>public&nbsp;java.lang.String&nbsp;getNameToken(int&nbsp;i)</pre>
<div class="block">Returns the <i>i<sup>th</sup></i> token in the method name at the call
 site. Method names are tokenized with the colon ":" character.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>i</code> - the index of the token. Must be between 0 (inclusive) and
 <a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html#getNameTokenCount()"><code>getNameTokenCount()</code></a> (exclusive)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <i>i<sup>th</sup></i> token in the method name at the call
 site.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the index is outside the allowed
 range.</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Returns the name of the method at the call site. Note that the object
 internally only stores the tokenized name, and has to reconstruct the
 full name from tokens on each invocation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the name of the method at the call site.</dd></dl>
</li>
</ul>
<a name="getMethodType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMethodType</h4>
<pre>public&nbsp;java.lang.invoke.MethodType&nbsp;getMethodType()</pre>
<div class="block">The type of the method at the call site.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>type of the method at the call site.</dd></dl>
</li>
</ul>
<a name="assertParameterCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertParameterCount</h4>
<pre>public&nbsp;void&nbsp;assertParameterCount(int&nbsp;count)</pre>
<div class="block">Checks that the method type has exactly the desired number of arguments,
 throws an exception if it doesn't.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>count</code> - the desired parameter count</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.BootstrapMethodError</code> - if the parameter count doesn't match</dd></dl>
</li>
</ul>
<a name="dropParameterTypes(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dropParameterTypes</h4>
<pre>public&nbsp;<a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html" title="class in org.dynalang.dynalink.linker">CallSiteDescriptor</a>&nbsp;dropParameterTypes(int&nbsp;from,
                                    int&nbsp;to)</pre>
<div class="block">Creates a new call site descriptor from this descriptor, which is
 identical to this, except it drops few of the parameters from the method
 type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - the index of the first parameter to drop</dd><dd><code>to</code> - the index of the first parameter after "from" not to drop</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new call site descriptor with the parameter dropped.</dd></dl>
</li>
</ul>
<a name="changeParameterType(int, java.lang.Class)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>changeParameterType</h4>
<pre>public&nbsp;<a href="../../../../org/dynalang/dynalink/linker/CallSiteDescriptor.html" title="class in org.dynalang.dynalink.linker">CallSiteDescriptor</a>&nbsp;changeParameterType(int&nbsp;num,
                                     java.lang.Class&lt;?&gt;&nbsp;newType)</pre>
<div class="block">Creates a new call site descriptor from this descriptor, which is
 identical to this, except it changes the type of one of the parameters
 in the method type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>num</code> - the index of the parameter type to change</dd><dd><code>newType</code> - the new type for the parameter</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new call site descriptor, with the type of the parameter in the
 method type changed.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallSiteDescriptor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dynalang/dynalink/linker/CallSiteDescriptor.html" target="_top">Frames</a></li>
<li><a href="CallSiteDescriptor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
